<ng-container *ngIf="loading$ | async; then loadingTemplate; else dataTemplate"></ng-container>
<ng-template #loadingTemplate>
    <mat-spinner> </mat-spinner>
</ng-template>
<ng-template #dataTemplate>
    <ng-container *ngIf="actions$ | async">
        <div class="flex flex-auto flex-col min-w-0 sm:absolute sm:inset-0 sm:overflow-hidden">
            <!-- Header -->
            <div class="flex flex-col flex-auto justify-between py-8 px-6 md:px-8 border-b max-h-56">
                <!-- Title -->
                <div>
                    <div class="text-4xl font-extrabold tracking-tight leading-none">Créditos del cliente</div>
                </div>
                <!-- Main actions -->
                <div class="flex flex-col items-center gap-4 mt-4 flex-auto">
                    <!-- Add credito member -->
                    <div class="flex flex-col w-full gap-3">
                        <!-- Add contact button -->
                        <button mat-flat-button [color]="'primary'" class="self-start" (click)="openNewCredito()">
                            <mat-icon [svgIcon]="'heroicons_outline:plus'"></mat-icon>
                            <span class="ml-2 mr-1">Abrir Crédito</span>
                        </button>
                        <!-- Active or Innactive ones -->
                        <mat-radio-group
                            aria-labelledby="radio-group-label"
                            class="flex flex-row gap-3 items-center justify-center"
                            [(ngModel)]="status"
                        >
                            <mat-radio-button
                                *ngFor="let value of values"
                                [value]="value.value"
                                (change)="changeActiva($event)"
                            >
                                {{ value.display }}
                            </mat-radio-button>
                        </mat-radio-group>
                    </div>
                </div>
            </div>
            <!-- Content -->
            <!-- <div class="flex-auto mt-8">
                    <ng-container *ngFor="let sucursal of searchResults$ | async">
                        <div class="z-20 flex px-8 py-4 md:px-10 border-b justify-between">
                            <div class="flex gap-6 xsm:flex-wrap sm:flex-wrap">
                                <div class="flex flex-col">
                                    <div class="font-bold">Nombre:</div>
                                    <div class="mt-2">{{ sucursal.nombre }}</div>
                                </div>
                                <div class="flex flex-col">
                                    <div class="font-bold">Telefono:</div>
                                    <div class="mt-2">
                                        ({{ sucursal.telefono | slice: 0:3 }})-{{ sucursal.telefono | slice: 3:6 }}-{{
                                            sucursal.telefono | slice: 6:8
                                        }}-{{ sucursal.telefono | slice: 8:10 }}
                                    </div>
                                </div>
                            </div>
                            <div class="order-1 sm:order-2 sm:ml-3 xsm:flex-col flex justify-center items-center">
                                <button
                                    mat-icon-button
                                    aria-label="Editar sucursal"
                                    #tooltip="matTooltip"
                                    matTooltip="Editar sucursal"
                                    [matTooltipPosition]="'below'"
                                    (click)="editSucursal(sucursal.id)"
                                >
                                    <mat-icon
                                        class="text-hint"
                                        [svgIcon]="'heroicons_outline:clipboard-list'"
                                    ></mat-icon>
                                </button>
                                <button
                                    mat-icon-button
                                    aria-label="Inhabilitar sucursal"
                                    (click)="sucursal.activa ? deleteSucursal(sucursal) : activateSucursal(sucursal)"
                                    #tooltip="matTooltip"
                                    matTooltip="{{ sucursal.activa ? 'Inactivar sucursal' : 'Activar sucursal' }}"
                                    [matTooltipPosition]="'below'"
                                >
                                    <mat-icon
                                        class="text-hint"
                                        [svgIcon]="
                                            sucursal.activa
                                                ? 'heroicons_outline:trash'
                                                : 'heroicons_outline:badge-check'
                                        "
                                    ></mat-icon>
                                </button>
                            </div>
                        </div>
                    </ng-container>
                </div> -->
        </div>
    </ng-container>
</ng-template>
